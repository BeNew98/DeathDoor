<시작>
안녕하세요 45기 데스도어 팀입니다 시연 바로 시작하겠습니다.

<startLevel>
저희는 데스도어라는 게임을 만들었습니다 장르는 액션어드벤처구요 잡몹구간 필드 하나와 보스방 두개의 콘텐츠를 준비했습니다.

<EXPLAINLEVEL> -> 스타트에서 익스플레인으로 가게해둠
플레이어의 FSM은 기본적인 이동과 구르기, 최대 3스택까지 나가는 일반공격, 차징공격, -구르기공격 공격이펙트 음슴-, 본의 포지션을 가져와 위치를 적용시킨 3가지의 스킬 그외의 상호작용을 동작하는 state들로 구현되어있습니다.

마우스의 경우 탑뷰 게임이기에 2d화면의 마우스 위치와 방향을 카메라 각도를 계산하여 3d에 적용하였습니다.

스킬들과 공격은 블룸과 글로우 쉐이더를 통해 빛나게 만들었습니다.

<오피스레벨로 나가기>

또한 현재 보이는 화면도 감마코렉션과 HDR을 통해 색을 보정했습니다

<alloff 버튼>

감마코렉션 hdr을 끄면 이렇게 되지만 키면 

<hdr+gamma on 버튼>

이런식으로 개선된 색을 보이게됩니다.
그리고 안티앨리어싱을 통해 계단현상도 어느정도 보정하였습니다.
(우리 화면을 작게해서 생각보다 눈에 잘 안띔 크게할걸)

<보스문으로 올라가면서>

현재 맵 같은경우 배경또한 쉐이더로 이루어져있습니다.
물리는 피직스를 통하여 구현했고요

<m누르기>

바닥은 네비메시를 만들고 피직스와 연계해서 걸어다닐수 있게 만들었습니다 

충돌이벤트 또한 피직스 쓴김에 기존 엔진의 충돌구조가 아니라 스레드로 충돌을 체크해주는 피직스에게 일임해보았습니다. 그만큼 속력은 빠르나 제가 피직스담당이었어서 제일 후회하는것중 하나입니다

<f7 누르기>
이건 피직스 형태를 엔진 자체에 보이게 하기위한 디버거인데요 직접 만들어서 그런가 오차가 살짝 있긴하지만 대략 이런 식으로 되어있습니다.


<크로우 들어가기>
처음으로 보여드릴것은 까마귀 보스입니다.
배경이 너무 휑해서 어이없을지 모르지만 실제 게임 배경이 이렇다는점 양해바랍니다
얘가 사실 마지막보스인데 제작자도 귀찮았나봐요

보스의 FSM의 공격으론 대쉬 , 체인 대쉬 2종, 점프찍기의 4가지 근거리 공격과, 
까마귀 미사일의 1종의 원거리 공격,
이외 2가지의 디버프 스킬이 있습니다. 모든 패턴은 랜덤으로 나오게끔 설정해 두었습니다.

대쉬를할떄)
보스가 대쉬할떄 흩날리는 깃털은 파티클 쉐이더를 통해 구현했습니다.

체인대쉬를 할떄)
체인대쉬의 경우 거리에 따라 렌더러를 온오프 시키며 발사와 따라가는듯한 효과를 구현했습니다.

작은까마귀가 생성되면)
이 작은까마귀들이 디버프스킬로 공격으로 제거 할수 있으며 플레이어 에게 공전하며 다가오며 붙게되면 플레이어의 이동속도를 감소시킵니다.

까마귀 머리가 생성되면)
날아오는 까마귀머리는 플레이어를 따라가고, 기본공격으로 반사를 할수 있게 만들었습니다.

알이 생성되면)
알 또한 작은 까마귀처럼 범위내에 있을 시 플레이어의 이동을 방해하는 디버프 스킬입니다.


피를깎다보며)
피를깎으면 깎을수록 몬스터는 몸에 크랙이 증가 하는 쉐이더를 적용하였습니다.

<죽이고 office레벨>

다음은 필드로 가보겠습니다.

<포트리스 입장>
현재맵은 물이 컨셉인 맵이기에 물쉐이더와 반사쉐이더를 만들어서 맵 전체에 배치를 했구요


<m누르기>
현재 맵또한 네비메쉬로 이루어져 있습니다, 물이 있는만큼 몬스터들이 직선으로 다니면 물속에 빠져 자살을 해버려서 에이스타 알고리즘과 네비메쉬 레이캐스팅 3가지의 콤비네이션으로 플레이어의 위치까지 길찾기를 하게 만들었습니다.

<몬스터 잡으러 ㄱㄱ>
몬스터는 총 8종을 만들었습니다. 현재 보이는 화살1번쏘는 구울, 3번 쏘는 빅구울
돌진 공격 하는 그런트, 불을쏘는 하는 파이어플랜트,부메랑을 날리는 점퍼
<점퍼 오래걸리니까 잡으면서 설명>
점퍼는 사실 점프하는것 처럼 보이지만 애니메이션만 위로 올라가고 실제론 점프를 안합니다. 부메랑 액터의 상태에 따라 상호작용을 하게 끔 만들었습니다.

<잡고나서 메이지잡기>
순간이동하는 메이지인데 실제 게임도 물위에 생성이 되어서 좀 짜증납니다.


<피격시>
피격되면 무적으로 만들며 고증에따라 사운드를 피격사운드만 들리고 fmod사운드 그룹화를 통해 나머지 소리는 한번에 페이드 아웃되는 것을 구현하였습니다.

<사다리 전 마법사 까지 죽인후> 
이 오브젝트는 피가 닳았을때 회복을 하는 오브젝트이빈다.그리고 버섯은 스킬을 사용할때 소모되는 마나를 회복하는 용도 이빈다.


<레버 작동하기전 잡몹 처리>
레버근처에서 e키를 누르면 레버가 플레이어에게 위치와 방향 정보를 전달해 플레이어가 상호작용을 하고, 사다리가 생기게끔 만들어져 있습니다.

사다리또한 레버와 똑같은 방법으로 플레이어의 스테이트를 전환해 플레이어가 위아래로만 이동이 가능하게끔 고정됩니다.

사다리 올라가는것은 플레이어의 앞쪽에서 아래로 레이캐스팅을 하여 바닥이 있으면 종료하게끔 만들었습니다.

<잡몹 조지고 떨어지는곳에서 대기>
공중에서 떨어질때는 레이캐스팅을 통해 바닥이 존재하는 낙하일땐 낙하 스테이트

<떨어지기>
 바닥이 없을땐 익사 스테이트로 전환합니다.

<그런트 두마리 조지고>
 말한김에 익사도 보여드리겠습니다.

<익사>
익사 했을땐 피가 닳고 이전에 바닥이 있었던곳을 주기적으로 저장했기때문에 다시 생성됩니다. 

진행하다가 혹시 몹이 겹쳐있으면)
여지껏 테스트 해봤는데 저렇게 겹친건 처음보네요 운이 좋으시네요 여러분

<몬스터 웨이브 도착>
저 트리거는 화살로 공격하면 쉐이더 이펙트가 나오며 몬스터를 생성하게끔 작동하게 만들었습니다. -몬스터 웨이브 어케만든지 몰라서 모름-

<개구리 보스방까지 ㄱㄱ>
마지막 컨텐츠인 개구리 보스입니다.

개구리는 현재 플레이어가 서있는 타일맵과 연계 하여 파해하는 보스입니다.

플레이어 타일 위치로 길찾기를 하며 타일을 부수고 점프가 끝나고 막타를 통해 타일을 복구하는 공격패턴을 가지고 있습니다.

파훼법으론 플레이어와 보스의 방향벡터를 비교해 보스뒤쪽을 타격했다 판정되면 후면 구속구가 빛나며 물속으로 들어가게 되어있습니다.

물속으로 들어간 개구리는 타일 아래에서 튀어나오게 되어있습니다.

타일같은경우는 2중벡터로 관리하고 타일이 45도 회전되어 있기 때문에 플레이어와 보스가 서있는 타일위치를 계산하기 쉽게 아이소메트릭타일 맵의 방식으로 처리했습니다.

<fat엉찍 할때 말하기>
3번을 반복해 1페이즈가 끝나면 2페이즈가 시작됩니다.
공격하러 이동하는 움직임은 정점 4개까지 베지에곡선을 통해 최대한 고증해봤구요
점프가 끝난 보스의 무기를 맞추면 타일이 재생성됩니다.

2페이즈는 두가지의 공격패턴으로 되어있습니다. 

먼저나오는거로 설명)
그중하나인 

타일맵을 눌러서 랜덤으로 타일을 빨아먹는 패턴입니다.
플레이어에게 보스방향으로 움직이는 힘을 추가하여 빨려들어가는 듯한 느낌을 줍니다.
플레이어스킬인 폭탄으로 파해가 가능합니다.

폭탄 던지기입니다. 폭탄이 날아가 타일에 닿으면 이펙트와 함꼐 타일을 삭제합니다.
이것또한 베지에 곡선 사용하여 포물서능로 날아갑니다.


<죽이고나서> 
죽이면 뒤쪽으로 보스방을 나가는 길이 생성된니다

<office Level>
준비한건 여기까지입니다 감사합니다
